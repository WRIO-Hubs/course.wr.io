<!DOCTYPE html>
<html>
<head>
  <title>Update Airtable Record</title>
</head>
<body>

<script type="text/javascript" src="https://bizcom.wr.io/assets/js/airtable.browser.js"></script>

<script>

var Airtable = require('airtable');
var base = new Airtable({apiKey: 'keyTpq0ckgmWts9xZ'}).base('app166IA16JVxqLL4');

  // Airtable API credentials
  const apiKey = 'keyTpq0ckgmWts9xZ';
  const baseId = 'app166IA16JVxqLL4';
  const table = 'Users';
  const recordId = 'rectnBUnFuTXX8a21';
  const newFieldValue = '6';

  // Function to update a record in Airtable
  function updateAirtableRecord(recordId, newFieldValue) {
    const url = `https://api.airtable.com/v0/${baseId}/${table}/${recordId}`;

    fetch(url, {
      method: 'PATCH',
      headers: {
        'Authorization': `Bearer ${apiKey}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        fields: {
          'TwitterFollowers': newFieldValue
        }
      })
    })
    .then(response => response.json())
    .then(data => {
      console.log('Record updated successfully:', data);
    })
    .catch(error => {
      console.error('Error updating record:', error);
    });
  }

  // Update the record in Airtable on page load
  updateAirtableRecord(recordId, newFieldValue);
</script>

</body>
</html>
